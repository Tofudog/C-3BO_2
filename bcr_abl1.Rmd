---
title: "BCR-ABL1 in depth RNA Analysis"
author: "Leonardo Amato Regis de Farias"
date: "2022-08-06"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
PTH <- "clinvar_result.txt"
if (!file.exists(PTH)) {
  print("Recheck if your file is in the following directory:")
  print(getwd())
} else {
    clin_df <- read.delim(PTH)
}
```

```{r echo=FALSE}
#head(clin_df)
print("Here are the following features:")
print(colnames(clin_df))
dim(clin_df)
```

#### we need to find about the uniqueness of the features. For instance, just after tested examination on __, there was only ONE unique value, chromosome 9, so no purpose in keeping the feature
```{r}
clin_mat <- as.matrix(clin_df)  #to support idx-accessible computation
high_bounds <- c()
for (feature in colnames(clin_df)) {
  nunique = length(unique(clin_mat[, feature]))
  print( paste("For this feature:", feature, "---> there are", nunique, "unique values") )
  if (nunique==1 || nunique > 200) {
    #either too much diversity that gives no correlation, or
    #literally just one value
    high_bounds <- append(high_bounds, feature)
  }
}
```
##### just by observing above, 'X' and 'GRCh37Chromosome' are completely useless... With 227 values, many features possess high variations.

```{r echo=FALSE}
useless <- clin_mat[, high_bounds]
clin_final <- clin_df[, -match(high_bounds, names(clin_df))] 
clin_mat <- as.matrix(clin_final)
```

##### check if there are any missing values
```{r}
sum(is.na(clin_final))  #25 missing in total
na.s <- c()
for (feature in 1:9) {
  amt_na <- sum(is.na(clin_mat[,feature]))
  na.s <- append(na.s, amt_na )
  if (amt_na > 0) {
    print(paste(colnames(clin_final)[feature], "has some missing"))
  }
}
```

#### why does 'GRCh38Chromosome' have some null values?
#### its significance: ... research
```{r}
#integer datatype
class(clin_final$GRCh38Chromosome)

#doesn't quite modify the values because R is weird on returns
imputer <- function(col_vector, method="mean") {
  fillna <- NaN
  if (method == "mean" || method=="average") {
    fillna <- mean(col_vector)
  }
  #probably not the best choice for integer column vector
  else if (method == "median") {
    fillna <- median(col_vector)
  }
  for (ridx in which(is.na(col_vector)) ) {
    col_vector[ridx] <- fillna
  }
  col_vector <- col_vector
}
#clin_final$GRCh38Chromosome <- imputer(clin_final$GRCh38Chromosome)
```

#### either exclude GRCh38Chromosome altogether or impute with zeroes
```{r}
#using the first option, total exclusion
clin_final <- subset(clin_final, select = -c(GRCh38Chromosome))
clin_final
```

```{r}
#probably unecessary to utilize the other alternative
```

#### encoding the dataframe
#### what will be a complex challenge is handling the 'Gene.s.' attribute, which is separated by | for each row sample. ABL1 is prevalent in many of the samples.
```{r}
#be sure to count the amount for each gene...


```




































